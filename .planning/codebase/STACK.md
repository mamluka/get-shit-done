# Technology Stack

**Analysis Date:** 2026-02-10

## Languages

**Primary:**
- JavaScript (Node.js) - Core CLI tool, command infrastructure, hooks
- Markdown - Workflow documentation, planning docs, agent prompts

**Secondary:**
- YAML - Configuration and frontmatter in planning documents
- Shell/Bash - Git operations, system command execution

## Runtime

**Environment:**
- Node.js >=16.7.0

**Package Manager:**
- npm
- Lockfile: package-lock.json present

## Frameworks

**CLI/Build:**
- esbuild ^0.24.0 (bundling hooks for distribution)

**Testing:**
- Node.js native test runner (`node --test`) - No external framework required

**No Web Framework:**
- GSD is a CLI tool, not a web application
- Uses native Node.js modules only

## Key Dependencies

**Critical:**
- `fs` (Node.js native) - File system operations
- `path` (Node.js native) - Path resolution and manipulation
- `child_process` (Node.js native) - Git and system command execution
- `readline` (Node.js native) - Interactive prompts during installation
- `crypto` (Node.js native) - Hash generation for validation
- `os` (Node.js native) - Environment and home directory detection

**No External Production Dependencies:**
- Package.json lists zero production dependencies
- All functionality implemented with Node.js stdlib

**Dev-Only:**
- esbuild ^0.24.0 - Hook bundling during prepublish only

## Configuration

**Environment Variables:**
- `BRAVE_API_KEY` - Optional, enables Brave Search API integration for web research
- `CLAUDE_CONFIG_DIR` - Override Claude config directory (default: ~/.claude/)
- `OPENCODE_CONFIG_DIR` - OpenCode config directory override
- `GEMINI_CONFIG_DIR` - Gemini config directory override
- `XDG_CONFIG_HOME` - XDG Base Directory spec support for OpenCode

**Build:**
- `scripts/build-hooks.js` - Copies hooks to `hooks/dist/` during prepublish
- `esbuild` configured via npm scripts only (no esbuild.config.js)

**Runtime Configuration:**
- `.planning/config.json` - Project settings (mode, depth, profiles, workflow settings)
- `~/.gsd/brave_api_key` - Fallback for Brave API key storage (if env var not set)

## Platform Requirements

**Development:**
- Node.js 16.7.0 or higher
- npm (for package management)
- Git (for version control)
- sh/bash (for git operations, cross-platform via Node.js child_process)

**Production:**
- Runs on Mac, Windows, and Linux
- Supports three IDE/editor environments:
  - Claude Code
  - OpenCode
  - Gemini CLI

**Global Installation:**
- Installs to user config directories:
  - Claude: `~/.claude/` or `$CLAUDE_CONFIG_DIR`
  - OpenCode: `~/.config/opencode/` or `$OPENCODE_CONFIG_DIR` or `$XDG_CONFIG_HOME/opencode`
  - Gemini: `~/.gemini/` or `$GEMINI_CONFIG_DIR`

**Local Installation:**
- Installs to project-relative `.claude/`, `.opencode/`, or `.gemini/` directories

## File Distribution

**Published via npm:**
- `bin/` - Installation script and entry points
- `commands/` - Slash commands for Claude Code, OpenCode, Gemini
- `get-shit-done/` - Workflow definitions, templates, references
- `agents/` - Agent prompts for specialized tasks
- `hooks/dist/` - Compiled hooks (generated by build-hooks.js)
- `scripts/` - Build and utility scripts

**Not published:**
- `.claude/` - Local development installs
- `node_modules/` - Dependencies
- `.git/` - Version control

## Notable Patterns

**Zero External Dependencies:**
- GSD relies entirely on Node.js standard library
- Enables fast installation, minimal attack surface, zero dependency updates

**Native Fetch API:**
- Uses `fetch()` for Brave Search API calls
- Available in Node.js 18+ natively; GSD targets Node 16.7.0+
- Assumes runtime provides fetch or polyfill

**Git via child_process:**
- Executes `git` commands directly using `execSync`
- Not using any npm git libraries
- Enables atomic commits with full control over messages and staging

**Interactive Installation:**
- Uses Node.js `readline` for terminal UI
- Supports non-interactive mode with CLI flags
- Detects home directory and config paths intelligently

---

*Stack analysis: 2026-02-10*
