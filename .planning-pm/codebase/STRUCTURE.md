# Codebase Structure

**Analysis Date:** 2026-02-10

## Directory Layout

```
get-shit-done/
├── bin/                        # Installation and CLI entry
│   └── install.js              # Multi-runtime installer (1,740 lines)
├── commands/gsd/               # User-facing commands (28 total)
│   ├── new-project.md
│   ├── plan-phase.md
│   ├── execute-phase.md
│   ├── map-codebase.md
│   ├── help.md
│   └── ... (24 more commands)
├── agents/                     # Specialized agents (11 total)
│   ├── gsd-executor.md         # Execute PLAN.md files
│   ├── gsd-planner.md          # Create phase plans
│   ├── gsd-project-researcher.md
│   ├── gsd-codebase-mapper.md
│   └── ... (7 more agents)
├── get-shit-done/              # Core system (distributed at install)
│   ├── bin/
│   │   ├── gsd-tools.js        # CLI utility (4,597 lines) — core operations
│   │   └── gsd-tools.test.js   # Tests for gsd-tools
│   ├── workflows/              # Stateful workflow templates
│   │   ├── new-project.md      # Project initialization flow
│   │   ├── plan-phase.md       # Phase planning flow
│   │   ├── execute-plan.md     # Plan execution orchestration
│   │   ├── resume-project.md   # Resumption after pause
│   │   └── ... (26 more workflows)
│   ├── references/             # Shared knowledge (2,911 lines total)
│   │   ├── model-profiles.md   # Agent model assignments
│   │   ├── git-planning-commit.md
│   │   ├── git-integration.md
│   │   ├── verification-patterns.md
│   │   ├── tdd.md
│   │   ├── decimal-phase-calculation.md
│   │   └── ... (14 more references)
│   ├── templates/              # Document templates
│   │   ├── project.md          # PROJECT.md template
│   │   ├── requirements.md     # REQUIREMENTS.md template
│   │   ├── roadmap.md          # ROADMAP.md template
│   │   ├── context.md          # CONTEXT.md template
│   │   ├── plan.md             # PLAN.md template
│   │   ├── summary.md          # SUMMARY.md template
│   │   ├── verification-report.md
│   │   ├── state.md            # STATE.md template
│   │   ├── research.md         # Research workflow
│   │   └── ... (15 more templates)
│   └── templates/codebase/     # Codebase mapping templates
│       └── ... (generated by gsd-codebase-mapper)
├── hooks/                      # Status/update hooks
│   ├── dist/                   # Bundled hooks (post-build)
│   │   ├── gsd-statusline.js   # Status display in Claude Code
│   │   └── gsd-check-update.js # Update checker
│   └── src/                    # Source hooks (pre-build)
├── scripts/                    # Build scripts
│   └── build-hooks.js          # Bundles hooks → dist/
├── .github/
│   ├── ISSUE_TEMPLATE/         # Issue templates
│   └── workflows/              # GitHub Actions
├── .claude/                    # Development/test installation
├── .planning/                  # This repo's own planning docs
│   └── codebase/               # Architecture/structure analysis (you are here)
├── package.json                # Node package metadata
├── README.md                   # Project overview
├── CHANGELOG.md                # Release notes
├── LICENSE                     # MIT license
└── SECURITY.md                 # Responsible disclosure policy
```

## Directory Purposes

**`bin/`:**
- Purpose: Installation entry point and setup orchestration
- Contains: `install.js` (supports Claude Code, OpenCode, Gemini; global/local/config-dir modes)
- Key files: `bin/install.js`

**`commands/gsd/`:**
- Purpose: User-facing commands (entry points for `/gsd:*`)
- Contains: 28 markdown files, each defining a command (name, description, allowed-tools, execution flow)
- Key files:
  - `help.md` — Command reference
  - `new-project.md` — Initialize project
  - `plan-phase.md` — Create phase plans
  - `execute-phase.md` — Execute phase
  - `map-codebase.md` — Generate codebase analysis docs

**`agents/`:**
- Purpose: Specialized AI agents spawned during workflows
- Contains: 11 markdown agent definitions with role, tools, execution constraints
- Key files:
  - `gsd-executor.md` — Executes PLAN.md atomically
  - `gsd-planner.md` — Creates detailed phase plans
  - `gsd-codebase-mapper.md` — Analyzes codebase for documentation
  - `gsd-verifier.md` — Validates work against success criteria

**`get-shit-done/bin/`:**
- Purpose: Core CLI operations
- Contains: 4,597-line gsd-tools.js and tests
- Key logic:
  - State load/update/patch (STATE.md CRUD)
  - Config parsing (model_profile, workflow flags)
  - Phase operations (numbering, creation, removal)
  - Git integration (commit with config checks)
  - Frontmatter manipulation (YAML in markdown headers)
  - Roadmap parsing and analysis
  - Manifest generation for local patch persistence

**`get-shit-done/workflows/`:**
- Purpose: Stateful workflow specifications and initialization templates
- Contains: 30+ markdown workflow files
- Key files:
  - `new-project.md` — Full project initialization (questioning → research → requirements → roadmap)
  - `plan-phase.md` — Phase planning with plan creation and optional plan-checking
  - `execute-plan.md` — Plan execution with checkpoint routing and subagent orchestration
  - `resume-project.md` — Resumption after pause with state recovery

**`get-shit-done/references/`:**
- Purpose: Shared knowledge and execution patterns referenced by workflows/agents
- Contains: 20+ markdown reference documents
- Key files:
  - `model-profiles.md` — Agent-to-model mapping (opus, sonnet, haiku by profile)
  - `git-integration.md` — Git workflow patterns
  - `verification-patterns.md` — How to verify work completion
  - `tdd.md` — Test-driven development patterns
  - `decimal-phase-calculation.md` — Phase numbering rules

**`get-shit-done/templates/`:**
- Purpose: Pre-filled document templates for project artifacts
- Contains: 20+ markdown templates
- Key files:
  - `project.md` — PROJECT.md template (what/core value/requirements/constraints)
  - `requirements.md` — REQUIREMENTS.md template (validated/active/out-of-scope)
  - `roadmap.md` — ROADMAP.md template (phase list with summaries)
  - `plan.md` — PLAN.md template (objectives, context, tasks, success criteria)
  - `summary.md` — SUMMARY.md template (executed tasks, deviations, metrics)
  - `state.md` — STATE.md template (phase/plan state, decisions, blockers)
  - `verification-report.md` — Verification artifacts and results

**`hooks/`:**
- Purpose: Event hooks registered in runtime config (Claude Code, OpenCode, Gemini)
- Contains: Status display and update check hooks
- Key files:
  - `hooks/dist/gsd-statusline.js` — Displays GSD status in Claude Code statusline
  - `hooks/dist/gsd-check-update.js` — Checks for newer GSD versions

**`scripts/`:**
- Purpose: Build and development utilities
- Key files: `scripts/build-hooks.js` (bundles source hooks → dist/)

## Key File Locations

**Entry Points:**
- `bin/install.js` — Installation orchestrator (supports --claude, --opencode, --gemini, --global, --local)
- `commands/gsd/new-project.md` — Initialize new project
- `commands/gsd/help.md` — Show command reference
- `agents/gsd-executor.md` — Execute plans (spawned by orchestration)

**Configuration:**
- `package.json` — Node package metadata, scripts (test, build:hooks)
- `get-shit-done/templates/config.json` — Default config schema
- `.planning/config.json` — Project-specific user config (created per project)

**Core Logic:**
- `get-shit-done/bin/gsd-tools.js` — ALL state/config/git/phase operations (4,597 lines)
- `get-shit-done/workflows/*.md` — Workflow orchestration templates
- `agents/gsd-*.md` — Agent personas and execution patterns

**Testing:**
- `get-shit-done/bin/gsd-tools.test.js` — Tests for gsd-tools CLI

**Documentation:**
- `README.md` — User-facing overview and getting started
- `CHANGELOG.md` — Release notes and version history
- `get-shit-done/references/*.md` — Shared knowledge for agents/workflows

## Naming Conventions

**Files:**
- Commands: `<command-name>.md` (kebab-case) in `commands/gsd/`
- Agents: `gsd-<agent-name>.md` (kebab-case) in `agents/`
- Workflows: `<workflow-name>.md` (kebab-case) in `get-shit-done/workflows/`
- References: `<topic>.md` (kebab-case) in `get-shit-done/references/`
- Templates: `<document-type>.md` (lowercase) in `get-shit-done/templates/`

**Directories:**
- Phase directories: `<number>-<slug>` (e.g., `01-setup`, `02-authentication`, `01.1-hotfix`)
- Workflow directories: feature directories in `get-shit-done/workflows/` and `get-shit-done/templates/research-project/`

**Project Artifacts:**
- `PROJECT.md` — Project overview (singular, in .planning/)
- `REQUIREMENTS.md` — Scope and constraints (singular, in .planning/)
- `ROADMAP.md` — Phase structure (singular, in .planning/)
- `STATE.md` — Project state (singular, in .planning/)
- `<phase>-<plan>-PLAN.md` — Plan specification (per-plan, in .planning/phases/<phase>/)
- `<phase>-<plan>-SUMMARY.md` — Execution summary (per-plan, in .planning/phases/<phase>/)

## Where to Add New Code

**New Command:**
- Primary code: `commands/gsd/<command-name>.md`
- Workflow reference: `get-shit-done/workflows/<workflow-name>.md`
- Pattern: Command file contains frontmatter (name, description, allowed-tools) + execution flow with references to @~/.claude/get-shit-done/workflows/*

**New Agent:**
- Implementation: `agents/gsd-<agent-name>.md`
- Pattern: YAML frontmatter (name, description, tools, color) + role definition + execution_flow with step definitions

**New Workflow:**
- Implementation: `get-shit-done/workflows/<workflow-name>.md`
- Pattern: <purpose>, <required_reading>, <process> with steps, error handling, routing

**New Reference Document:**
- Shared knowledge: `get-shit-done/references/<topic>.md`
- Pattern: Documentation of patterns, decisions, or technical details shared by multiple workflows/agents

**New Template:**
- Document template: `get-shit-done/templates/<document-type>.md`
- Pattern: <template> section with markdown example + <guidelines> section with usage instructions

**New gsd-tools operation:**
- Location: `get-shit-done/bin/gsd-tools.js` (add function + register in main switch statement)
- Pattern: Atomic operation (state, config, git, phase, or roadmap manipulation)

## Special Directories

**`.planning/`:**
- Purpose: Generated project planning artifacts
- Generated: Yes (created by user via `/gsd:new-project`)
- Committed: Yes (if `commit_docs: true` in config.json)
- Contains:
  - `PROJECT.md` — Project overview
  - `REQUIREMENTS.md` — Scope
  - `ROADMAP.md` — Phase structure
  - `STATE.md` — Current state
  - `config.json` — User preferences
  - `phases/<N>-<slug>/` — Phase directories
  - `research/` — Research documents (if created)
  - `codebase/` — Codebase analysis docs (from gsd:map-codebase)
  - `MILESTONES.md` — Archive of completed milestones (if created)

**`.planning/phases/<N>-<slug>/`:**
- Purpose: All artifacts for a single phase
- Contains:
  - `<N>-<plan>-PLAN.md` — One or more plan specifications
  - `<N>-<plan>-SUMMARY.md` — Execution summaries (created during execution)
  - `CONTEXT.md` — Optional user vision (created by user)
  - `UAT.md` — Optional user acceptance tests
  - `VERIFICATION.md` — Optional verification report

**`get-shit-done/templates/codebase/`:**
- Purpose: Template structure for codebase analysis (filled by gsd-codebase-mapper)
- Generated: Yes (by `agents/gsd-codebase-mapper.md`)
- Committed: No (local to installation)
- Contains: ARCHITECTURE.md, STRUCTURE.md, CONVENTIONS.md, TESTING.md, STACK.md, INTEGRATIONS.md, CONCERNS.md

**`.claude/` and runtime equivalents:**
- Purpose: Installation target for Claude Code (`.claude`), OpenCode (`.config/opencode`), Gemini (`.gemini`)
- Generated: Yes (by installer)
- Committed: No (user's local config, distributed via npm package)
- Contains: Symlink or copy of commands/, agents/, get-shit-done/, hooks/

**`hooks/dist/`:**
- Purpose: Bundled hook scripts
- Generated: Yes (by `npm run build:hooks` via esbuild)
- Committed: No (generated at publish time)
- Contains: `gsd-statusline.js`, `gsd-check-update.js`

---

*Structure analysis: 2026-02-10*
